{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": "container",
    "height": 300,
    "background": "rgba(255, 255, 255, 0)",
    "data": {
        "url": "https://raw.githubusercontent.com/fletchjeff/ZA-Census-Data-Explorer/main/assets/za-local.topojson",
        "format": {
            "type": "topojson",
            "feature": "layer1"
        }
    },
    "config": {
        "font": "Circular Std",
        "mark": {
            "line": {
                "interpolate": "linear"
            }
        },
        "view": {
            "stroke": "transparent",
            "width": 400,
            "height": 300
        },
        "range": {
            "category": [
                "#001f3f",
                "#4269d0",
                "#efb118",
                "#ff725c",
                "#6cc5b0",
                "#3ca951",
                "#ff8ab7",
                "#a463f2",
                "#97bbf5",
                "#9c6b4e"
            ],
            "diverging": [
                "#E6224B",
                "#E54753",
                "#C9C9C9",
                "#179FDB",
                "#122B39"
            ],
            "heatmap": [
                "#C9C9C9",
                "#179FDB",
                "#0063AF",
                "#122B39"
            ],
            "ordinal": [
                "#00A767",
                "#36B7B4",
                "#179FDB",
                "#0063AF",
                "#243B5A"
            ]
        },
        "axisX": {
            "labelColor": "#122b39",
            "tickColor": "#122b39",
            "domainColor": "#122b39",
            "domainOpacity": 0.5,
            "gridOpacity": 0,
            "labelFont": "Circular Std",
            "labelAngle": 0,
            "labelAlign": "center",
            "labelFontSize": 11,
            "labelPadding": 5,
            "tickCount": 10,
            "tickSize": 0,
            "title": ""
        },
        "axisY": {
            "labelColor": "#122b39",
            "labelFont": "Circular Std",
            "tickColor": "#122b39",
            "domainColor": "#122b39",
            "gridColor": "#122b39",
            "gridDash": [
                1,
                5
            ],
            "gridOpacity": 0.5,
            "labelPadding": 5,
            "labelFontSize": 11,
            "domainOpacity": 0.5,
            "tickSize": 0,
            "title": null,
            "titleAlign": "left",
            "titleAngle": 0,
            "titleBaseline": "bottom",
            "titleColor": "#122b39",
            "titleOpacity": 0.9,
            "titleX": 0,
            "titleY": -7
        }
    },
    "projection": {
        "type": "mercator"
    },
    "transform": [
        {
            "lookup": "properties.CAT_B",
            "from": {
                "data": {
                    "url": "https://raw.githubusercontent.com/OpenUpSA/OpenUp-data-viz/main/src/data/muni-unemployment-education.json"
                },
                "key": "GEO_CODE",
                "fields": [
                    "total_allpopu_unemployment"
                ]
            }
        }
    ],
    "mark": {
        "type": "geoshape",
        "stroke": "lightgray",
        "strokeWidth": 0.1
    },
    "encoding": {
        "color": {
            "field": "total_allpopu_unemployment",
            "type": "quantitative",
            "scale": {
                "scheme": "viridis",
                "reverse": true
            },
            "legend": {
                "title": "Unemployment",
                "format": "%",
                "labelOffset": 5
            }
        }
    }
}